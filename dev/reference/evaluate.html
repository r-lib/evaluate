<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Evaluate input and return all details of evaluation — evaluate • evaluate</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Evaluate input and return all details of evaluation — evaluate"><meta name="description" content="Compare to eval(), evaluate captures all of the
information necessary to recreate the output as if you had copied and pasted
the code into a R terminal. It captures messages, warnings, errors and
output, all correctly interleaved in the order in which they occured. It
stores the final result, whether or not it should be visible, and the
contents of the current graphics device."><meta property="og:description" content="Compare to eval(), evaluate captures all of the
information necessary to recreate the output as if you had copied and pasted
the code into a R terminal. It captures messages, warnings, errors and
output, all correctly interleaved in the order in which they occured. It
stores the final result, whether or not it should be visible, and the
contents of the current graphics device."><meta name="robots" content="noindex"><script defer data-domain="evaluate.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">evaluate</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/evaluate/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Evaluate input and return all details of evaluation</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/evaluate/blob/main/R/evaluate.R" class="external-link"><code>R/evaluate.R</code></a></small>
      <div class="d-none name"><code>evaluate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compare to <code><a href="https://rdrr.io/r/base/eval.html" class="external-link">eval()</a></code>, <code>evaluate</code> captures all of the
information necessary to recreate the output as if you had copied and pasted
the code into a R terminal. It captures messages, warnings, errors and
output, all correctly interleaved in the order in which they occured. It
stores the final result, whether or not it should be visible, and the
contents of the current graphics device.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">evaluate</span><span class="op">(</span></span>
<span>  <span class="va">input</span>,</span>
<span>  envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  enclos <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  debug <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  stop_on_error <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  keep_warning <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  keep_message <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  log_echo <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  log_warning <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  new_device <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  output_handler <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_timing <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-input">input<a class="anchor" aria-label="anchor" href="#arg-input"></a></dt>
<dd><p>input object to be parsed and evaluated.  May be a string, file
connection or function.  Passed on to <code><a href="parse_all.html">parse_all()</a></code>.</p></dd>


<dt id="arg-envir">envir<a class="anchor" aria-label="anchor" href="#arg-envir"></a></dt>
<dd><p>environment in which to evaluate expressions.</p></dd>


<dt id="arg-enclos">enclos<a class="anchor" aria-label="anchor" href="#arg-enclos"></a></dt>
<dd><p>when <code>envir</code> is a list or data frame, this is treated as
the parent environment to <code>envir</code>.</p></dd>


<dt id="arg-debug">debug<a class="anchor" aria-label="anchor" href="#arg-debug"></a></dt>
<dd><p>if <code>TRUE</code>, displays information useful for debugging,
including all output that evaluate captures.</p></dd>


<dt id="arg-stop-on-error">stop_on_error<a class="anchor" aria-label="anchor" href="#arg-stop-on-error"></a></dt>
<dd><p>A number between 0 and 2 that controls what happens
when the code errors:</p><ul><li><p>If <code>0</code>, the default, will continue running all code, just as if you'd
pasted the code into the command line.</p></li>
<li><p>If <code>1</code>, evaluation will stop on first error without signaling the error,
and you will get back all results up to that point.</p></li>
<li><p>If <code>2</code>, evaluation will halt on first error and you will get back no
results.</p></li>
</ul></dd>


<dt id="arg-keep-warning-keep-message">keep_warning, keep_message<a class="anchor" aria-label="anchor" href="#arg-keep-warning-keep-message"></a></dt>
<dd><p>A single logical value that controls what
happens to warnings and messages.</p><ul><li><p>If <code>TRUE</code>, the default, warnings and messages will be captured in the
output.</p></li>
<li><p>If <code>NA</code>, warnings and messages will not be captured and bubble up to
the calling environment of <code>evaluate()</code>.</p></li>
<li><p>If <code>FALSE</code>, warnings and messages will be completed supressed and
not shown anywhere.</p></li>
</ul><p>Note that setting the envvar <code>R_EVALUATE_BYPASS_MESSAGES</code> to <code>true</code> will
force these arguments to be set to <code>NA</code>.</p></dd>


<dt id="arg-log-echo-log-warning">log_echo, log_warning<a class="anchor" aria-label="anchor" href="#arg-log-echo-log-warning"></a></dt>
<dd><p>If <code>TRUE</code>, will immediately log code and
warnings (respectively) to <code>stderr</code>.</p>
<p>This will be force to <code>TRUE</code> if env var <code>ACTIONS_STEP_DEBUG</code> is
<code>true</code>, as when debugging a failing GitHub Actions workflow.</p></dd>


<dt id="arg-new-device">new_device<a class="anchor" aria-label="anchor" href="#arg-new-device"></a></dt>
<dd><p>if <code>TRUE</code>, will open a new graphics device and
automatically close it after completion. This prevents evaluation from
interfering with your existing graphics environment.</p></dd>


<dt id="arg-output-handler">output_handler<a class="anchor" aria-label="anchor" href="#arg-output-handler"></a></dt>
<dd><p>an instance of <code><a href="new_output_handler.html">output_handler()</a></code> that
processes the output from the evaluation. The default simply prints the
visible return values.</p></dd>


<dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>string overrriding the <code><a href="https://rdrr.io/r/base/srcfile.html" class="external-link">base::srcfile()</a></code> filename.</p></dd>


<dt id="arg-include-timing">include_timing<a class="anchor" aria-label="anchor" href="#arg-include-timing"></a></dt>
<dd><p>Deprecated.</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">evaluate</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"1 + 1"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"2 + 2"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;evaluation&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Source code: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1 + 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Text output: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Source code: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2 + 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Text output: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 4</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Not that's there's a difference in output between putting multiple</span></span></span>
<span class="r-in"><span><span class="co"># expressions on one line vs spreading them across multiple lines</span></span></span>
<span class="r-in"><span><span class="fu">evaluate</span><span class="op">(</span><span class="st">"1;2;3"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;evaluation&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Source code: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1;2;3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Text output: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Text output: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Text output: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 3</span>
<span class="r-in"><span><span class="fu">evaluate</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;evaluation&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Source code: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Text output: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Source code: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Text output: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Source code: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Text output: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This also affects how errors propagate, matching the behaviour</span></span></span>
<span class="r-in"><span><span class="co"># of the R console</span></span></span>
<span class="r-in"><span><span class="fu">evaluate</span><span class="op">(</span><span class="st">"1;stop(2);3"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;evaluation&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Source code: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1;stop(2);3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Text output: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Condition: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Error:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2</span>
<span class="r-in"><span><span class="fu">evaluate</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"stop(2)"</span>, <span class="st">"3"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;evaluation&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Source code: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Text output: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Source code: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   stop(2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Condition: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Error:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Source code: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Text output: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 3</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://yihui.org/" class="external-link">Yihui Xie</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer></body></html>

